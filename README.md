# Beauty Generator V4.1.0

> 专业写实摄影风格美女图像生成助手 + 精准控制系统 + 公众号自动发布

## 快速开始

### 自然语言使用（推荐）

```
每日美女              → 生成1张今日主题
每日美女 2张          → 生成2张
发布美女              → 生成3张并发布到公众号（小绿书）
发布今日美女，5张      → 生成5张并发布
```

### 定时发布

**每天 20:00 自动发布到「三更熟」公众号草稿箱**

完全自动化，无需手动操作！

## 功能特点

- **每日智能生成**: 自动搜索热点和高质量 prompt 参考
- **主题轮换**: 每周7天不同主题，风格多样化
- **人物一致性**: 每日3张图片保持同一人物特征，仅改变姿态/角度
- **每天新人物**: 不同日期生成不同人物，保持新鲜感
- **智能配文**: 100+ 条配文库，基于情绪/场景随机生成
- **图生图技术**: 使用第一张图作为参考，提升一致性
- **模型优先级**: 默认优先 OpenRouter，失败自动回退豆包
- **公众号发布**: 一键发布到公众号草稿箱（小绿书格式）
- **定时发布**: 每天 20:00 自动发布到公众号草稿箱

## 🆕 V4.0 精准控制系统

### 场景控制 (15+ 种)

**自然场景**:
- 樱花雨 - 浪漫粉色花瓣飘落
- 雨夜 - 霓虹灯光、湿滑路面、电影感
- 黄昏海滩 - 金色时刻、梦幻温暖
- 雪山 - 白雪蓝天、清新冷冽
- 秋日森林 - 金色落叶、温暖怀旧

**城市场景**:
- rooftop夜景 - 城市天际线、散景灯光
- 地铁 - 现代内景、都市氛围
- 咖啡厅 - 温馨室内、柔和光线
- 豪华酒店 - 优雅内景、高级氛围

**艺术场景**:
- 艺术画廊 - 极简主义、精致
- 废弃工厂 - 戏剧光线、前卫
- 玻璃花房 - 自然光线、梦幻
- 复古房间 - 怀旧装饰、复古感

**特殊氛围**:
- 梦境 - 超现实、柔和色调
- 赛博朋克 - 霓虹灯、未来感
- 古风 - 中式宫殿、古典
- 末日废土 - 戏剧天空、荒凉

### 情绪控制 (8 种)

| 情绪 | 描述 |
|-----|------|
| 挑逗 | 诱惑眼神、迷人微笑、挑逗肢体语言 |
| 忧郁 | 忧伤眼神、情感深度、怀念氛围 |
| 神秘 | 不可预测、迷人眼神、神秘气质 |
| 开心 | 真诚微笑、明亮眼神、快乐能量 |
| 高冷 | 冷漠表情、疏离眼神、高傲态度 |
| 温柔 | 温柔眼神、柔和微笑、温暖气质 |
| 自信 | 自信眼神、坚定表情、强大气场 |
| 俏皮 | 俏皮表情、灵动眼神、活泼能量 |

### 妆容控制 (8 种)

| 妆容 | 风格 |
|-----|------|
| 裸妆 | 自然裸妆、清新面容、专注皮肤 |
| 韩妆 | 渐变唇、无辜眼、水光肌、清新 |
| 欧美妆 | 轮廓妆、粗眉、哑光唇、戏剧 |
| 日妆 | 柔和腮红、自然唇、甜美无辜 |
| 烟熏妆 | 戏剧眼妆、大胆眼线、前卫 |
| 红唇妆 | 经典红唇、精致眼妆、复古魅力 |
| 玻璃妆 | 发光皮肤、光泽唇、高光焦点 |
| 创意妆 | 大胆色彩、图形眼线、前卫 |

### 艺术风格 (8 种)

- **电影感**: 电影风格、胶片颗粒、调色、电影剧照美学
- **复古胶片**: 复古电影风格、颗粒感、褪色、90年代美学
- **王家卫**: 饱和色彩、慢动作感、浪漫忧郁、霓虹灯
- **韩剧**: 柔和浪漫光线、梦幻滤镜、柔和色调、浪漫喜剧氛围
- **时尚杂志**: 高级时尚杂志风格、编辑摄影、精致
- **ins风**: 温暖色调、柔和光线、生活方式美学
- **暗调**: 低光摄影、黑暗情绪氛围、戏剧阴影
- **清新日系**: 日式清新风格、柔和自然光、柔和色调、极简主义

### 光影控制 (8 种)

- **黄金时刻**: 温暖橙色阳光、长阴影、魔法氛围、镜头光晕
- **蓝调时刻**: 暮光蓝色天空、城市灯光亮起、情绪氛围
- **窗边自然光**: 自然窗光、柔和漫射、柔和阴影、自然肤色
- **影棚柔光**: 摄影棚柔光箱、均匀照明、干净阴影、专业
- **侧光戏剧**: 侧光照明、戏剧阴影、明暗对比、情感深度
- **轮廓光**: 轮廓照明、背光、头发光、背景分离、空灵光晕
- **顶光神圣**: 自上而下照明、蝴蝶光、魅力老好莱坞风格
- **霓虹灯光**: 霓虹光源、彩色光晕、赛博朋克氛围、鲜艳色彩

## 每周主题

| 星期 | 主题 | 风格 |
|-----|------|------|
| 周一 | 多样化 | 任意风格 |
| 周二 | 清新自然 | 清纯、阳光、校园 |
| 周三 | 知性优雅 | 优雅、书卷气 |
| 周四 | 冷艳高冷 | 高冷、御姐 |
| 周五 | 可爱甜美 | 可爱、甜美 |
| 周六 | 时尚潮流 | 时尚、街头 |
| 周日 | 温暖治愈 | 温暖、治愈 |

## 命令行使用

### 基础使用

```bash
# 默认生成（根据每日主题）
python3 ~/.claude/skills/beauty-generator/scripts/generate_beauty.py

# 生成指定数量
python3 ~/.claude/skills/beauty-generator/scripts/generate_beauty.py --count 3
```

### 精准控制

```bash
# 雨夜场景 + 挑逗情绪 + 韩妆 + 王家卫风格 + 蓝调时刻
python3 ~/.claude/skills/beauty-generator/scripts/generate_beauty.py \
  --scene "雨夜" --emotion "挑逗" --makeup "韩妆" --art-style "王家卫" --lighting "蓝调时刻"

# 樱花雨 + 温柔 + 日妆 + 黄金时刻
python3 ~/.claude/skills/beauty-generator/scripts/generate_beauty.py \
  --scene "樱花雨" --emotion "温柔" --makeup "日妆" --lighting "黄金时刻"

# 赛博朋克 + 高冷 + 烟熏妆 + 霓虹灯光
python3 ~/.claude/skills/beauty-generator/scripts/generate_beauty.py \
  --scene "赛博朋克" --emotion "高冷" --makeup "烟熏妆" --lighting "霓虹灯光"

# 查看所有选项
python3 ~/.claude/skills/beauty-generator/scripts/generate_beauty.py --list-options
```

### 公众号发布

```bash
# 发布到公众号（默认优先 OpenRouter，失败回退豆包）
python3 ~/.claude/skills/beauty-generator/scripts/publish_wechat.py --count 3

# 测试模式（只生成不发布）
python3 ~/.claude/skills/beauty-generator/scripts/publish_wechat.py --test --count 3

# 强制使用 OpenRouter（不回退豆包）
python3 ~/.claude/skills/beauty-generator/scripts/publish_wechat.py --use-openrouter --count 3

# 手动执行自动发布脚本
python3 ~/.claude/skills/beauty-generator/scripts/auto_publish.py
```

## 输出位置

```bash
# 图片本地存储
~/.claude/skills/beauty-generator/output/images/

# 历史记录
~/.claude/skills/beauty-generator/output/history/

# 定时发布日志
~/.claude/skills/beauty-generator/logs/auto_publish.log
```

## 配置

### 环境变量配置
```bash
# OpenRouter 图像生成 API（优先）
export OPENROUTER_API_KEY="your-openrouter-api-key"
export IMGBB_API_KEY="your-imgbb-api-key"

# 豆包图像生成 API（回退）
export DOUBAO_API_KEY="your-doubao-api-key"

# 微绿流量宝 API（公众号发布）
export WECHAT_API_KEY="your-wechat-api-key"
```

## 文件结构

```
beauty-generator/
├── SKILL.md              # 技能说明（Claude触发用）
├── README.md             # 本文件
├── WORKFLOW.md           # 工作流程文档
├── scripts/
│   ├── generate_artistic.py  # OpenRouter 高质量生成
│   ├── generate_beauty.py    # V4.0 主生成脚本（精准控制）
│   ├── publish_wechat.py     # 公众号发布脚本
│   ├── auto_publish.py       # 定时发布脚本
│   ├── test_image_persistence.py  # 图片持久性测试
│   └── test_caption_randomness.py  # 配文随机性测试
├── config/
│   └── api.json          # API配置
├── logs/                 # 运行日志
└── output/
    ├── images/          # 图片本地存储
    └── history/         # 历史记录
```

## 版本

**V4.1.0** - 2026-01-14

### 核心功能
- ✅ 场景氛围系统: 15+ 种高级场景
- ✅ 情绪精准控制: 8 种情绪表达
- ✅ 妆容风格系统: 8 种专业妆容
- ✅ 艺术风格选择: 8 种艺术风格
- ✅ 光影大师级控制: 8 种专业光影
- ✅ 图生图技术: 参考图确保人物一致性
- ✅ 智能配文系统: 100+ 条配文，基于参数随机生成
- ✅ 公众号一键发布（小绿书格式）
- ✅ 定时发布（每天 20:00）

### 人物变化规律
- 同一天内: 3张图人物一致（使用日期种子固定）
- 不同日期: 每天生成新人物（日期种子变化）
